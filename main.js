!function(i){var e={};function t(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return i[s].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=i,t.c=e,t.d=function(i,e,s){t.o(i,e)||Object.defineProperty(i,e,{configurable:!1,enumerable:!0,get:s})},t.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},t.n=function(i){var e=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(e,"a",e),e},t.o=function(i,e){return Object.prototype.hasOwnProperty.call(i,e)},t.p="",t(t.s=1)}([function(i,e){class t{constructor(i,e){this.row=i,this.col=e,this.mine=!1,this.value=0,this.visible=!1}}class s{constructor(i,e,t){this.rows=i,this.cols=e,this.mines=t,this.board=this.initBoard(),this.visibleTiles=i*e,this.placeMines()}initBoard(){let i=[];for(let e=0;e<this.rows;e++){let s=[];for(let i=0;i<this.cols;i++)s.push(new t(e,i));i.push(s)}return i}resetBoard(){this.visibleTiles=this.rows*this.cols;for(let i=0;i<this.rows;i++)for(let e=0;e<this.cols;e++)this.board[i][e].mine=!1,this.board[i][e].value=0,this.board[i][e].visible=!1}placeMines(){let i=function(i,e){let t=[];for(;t.length<e;){let e=Math.floor(Math.random()*i);-1==t.indexOf(e)&&t.push(e)}return t}(this.rows*this.cols,this.mines);for(let e=0;e<i.length;e++){let t=i[e]/this.cols,s=i[e]%this.rows;this.board[t][s].mines=!0,this.incrementSquareValue(t-1,s-1),this.incrementSquareValue(t-1,s),this.incrementSquareValue(t-1,s+1),this.incrementSquareValue(t,s-1),this.incrementSquareValue(t,s+1),this.incrementSquareValue(t+1,s-1),this.incrementSquareValue(t+1,s),this.incrementSquareValue(t+1,s+1)}}incrementSquareValue(i,e){i>=0&&i<this.rows&&e>=0&&e<this.cols&&this.board[i][e].value++}flood(i,e){i>=0&&i<this.rows&&e>=0&&e<this.cols&&!this.board[i][e].visible&&(this.board[i][e].visible=!0,this.visibleTiles--,0===this.board[i][e].value&&(this.flood(i-1,e-1),this.flood(i-1,e),this.flood(i-1,e+1),this.flood(i,e-1),this.flood(i,e+1),this.flood(i+1,e-1),this.flood(i+1,e),this.flood(i+1,e+1)))}reveal(i,e){if(i<0||i>=this.rows||e<0&&e>=this.cols)throw"Invalid Move";if(this.board[i][e].visible)throw"Tile Already Visible";return 0===this.board[i][e].value?(this.flood(i,e),!1):(this.board[i][e].visible=!0,this.visibleTiles--,this.board[i][e].mine)}}i.exports.Minesweeper=class{constructor(i,e,t){this.gameover=!1,this.win=!0,this.board=new s(i,e,t)}changeSettings(i,e,t){if(t>i*e/2)throw"Too Many Mines";this.board=new s(i,e,t)}move(i,e){if(this.gameover)throw"Game Already Over";let t=this.board.reveal(i,e);(t||this.board.mines==this.board.visibleTiles)&&(this.gameover=!0,t&&(this.win=!1))}newGame(){this.gameover=!1,this.win=!0,this.board=new s(this.board.rows,this.board.cols,this.board.mines)}}},function(i,e,t){"use strict";t.r(e);t(0)}]);